import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GENERATIVE_AI_API_KEY_2;

const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-thinking-exp-01-21",
});

const generationConfig = {
  temperature: 0.7,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 65536,
  responseMimeType: "text/plain",

  
};


export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {text: "Generate Travel Plan for Location: {location}, for {days} Days with {peoples} people with a {budget} budget, Give me a trip title, main discription of {location} in 4-5 line, geo coordinates, descriptions, best time to visit with description and budget tips in JSON format."},
      ],
    },
    {
      role: "model",
      parts: [
        {text: "json\n{\n  \"tripTitle\": \"Adventure in the Scottish Highlands: A 7-Day Exploration\",\n  \"location\": \"Scottish Highlands, Scotland\",\n  \"geoCoordinates\": {\n    \"latitude\": 57.4778,\n    \"longitude\": -4.1475\n  },\n  \"description\": \"The Scottish Highlands are a breathtaking region of Scotland, renowned for their rugged mountains, deep lochs, and dramatic coastlines.  This area offers unparalleled natural beauty and a rich cultural history, from ancient castles to whisky distilleries.  The Highlands are a paradise for outdoor enthusiasts, with opportunities for hiking, climbing, kayaking, and wildlife spotting.  Experience the magic of Scotland's iconic landscapes and immerse yourself in its unique heritage.\",\n  \"duration\": 7,\n  \"people\": 4,\n  \"budget\": \"Mid-Range\",\n  \"bestTimeToVisit\": {\n    \"month\": \"May to September\",\n    \"description\": \"The best time to visit the Scottish Highlands is from May to September. During these months, the weather is milder, with longer daylight hours and fewer midges (biting insects).  July and August are the warmest months but also the busiest, so expect higher prices and more crowds.  May, June, and September offer a good balance of pleasant weather and fewer tourists.\",\n    \"weather\": \"Mild temperatures, longer daylight hours, reduced rainfall compared to winter.\"\n  },\n  \"dailyItinerary\": [\n    {\n      \"day\": 1,\n      \"title\": \"Arrival in Inverness & Loch Ness Exploration\",\n      \"description\": \"Arrive at Inverness Airport (INV) or by train. Pick up your rental car. Drive along the scenic Loch Ness, stopping at Urquhart Castle for stunning views. Consider a Loch Ness cruise for monster spotting. Check into your accommodation in Inverness or a nearby village.\",\n      \"activities\": [\n        \"Travel to Inverness\",\n        \"Explore Loch Ness\",\n        \"Visit Urquhart Castle\",\n        \"Optional: Loch Ness Cruise\"\n      ],\n      \"estimatedCost\": {\n        \"accommodation\": 120,\n        \"food\": 60,\n        \"activities\": 50,\n        \"transport\": 30\n      }\n    },\n    {\n      \"day\": 2,\n      \"title\": \"Cairngorms National Park Hiking\",\n      \"description\": \"Head to Cairngorms National Park, the largest national park in the UK. Choose a hike based on your fitness level, such as a gentle walk around Loch Morlich or a more challenging climb up a Munro (mountain over 3,000 feet). Enjoy the stunning scenery and keep an eye out for wildlife.\",\n      \"activities\": [\n        \"Drive to Cairngorms National Park\",\n        \"Hiking (various trails available)\",\n        \"Wildlife spotting\"\n      ],\n      \"estimatedCost\": {\n        \"accommodation\": 0,\n        \"food\": 50,\n        \"activities\": 10,\n        \"transport\": 40\n      }\n    },\n    {\n      \"day\": 3,\n      \"title\": \"Whisky Trail & Speyside\",\n      \"description\": \"Explore the Speyside region, famous for its whisky distilleries. Take a tour of a distillery (e.g., Macallan, Glenfiddich) and learn about the whisky-making process. Sample some of Scotland's finest single malts. Visit the Speyside Cooperage to see how whisky barrels are made.\",\n      \"activities\": [\n        \"Whisky Distillery Tour (e.g., Macallan, Glenfiddich)\",\n        \"Speyside Cooperage Visit\",\n        \"Whisky tasting\"\n      ],\n      \"estimatedCost\": {\n        \"accommodation\": 120,\n        \"food\": 60,\n        \"activities\": 80,\n        \"transport\": 30\n      }\n    },\n    {\n      \"day\": 4,\n      \"title\": \"Eilean Donan Castle & Isle of Skye Bridge\",\n      \"description\": \"Drive west towards the Isle of Skye. Stop at Eilean Donan Castle, one of Scotland's most iconic castles, for photos and a tour. Cross the Skye Bridge onto the Isle of Skye and check into your accommodation.\",\n      \"activities\": [\n        \"Drive to Eilean Donan Castle\",\n        \"Visit Eilean Donan Castle\",\n        \"Cross Skye Bridge\",\n        \"Explore Portree\"\n      ],\n      \"estimatedCost\": {\n        \"accommodation\": 150,\n        \"food\": 70,\n        \"activities\": 40,\n        \"transport\": 40\n      }\n    },\n    {\n      \"day\": 5,\n      \"title\": \"Isle of Skye: Old Man of Storr & Fairy Pools\",\n      \"description\": \"Explore the Isle of Skye. Hike to the Old Man of Storr, a dramatic rock formation. Visit the Fairy Pools, a series of waterfalls and pools perfect for a refreshing (cold!) dip. Explore the charming town of Portree.\",\n      \"activities\": [\n        \"Hike to Old Man of Storr\",\n        \"Visit Fairy Pools\",\n        \"Explore Portree\"\n      ],\n      \"estimatedCost\": {\n        \"accommodation\": 0,\n        \"food\": 50,\n        \"activities\": 10,\n        \"transport\": 30\n      }\n    },\n    {\n      \"day\": 6,\n      \"title\": \"Isle of Skye: Quiraing & Talisker Distillery\",\n      \"description\": \"Continue exploring the Isle of Skye. Hike the Quiraing, a unique landscape of cliffs and rock formations. Visit the Talisker Distillery for a tour and tasting.  Enjoy a seafood dinner in a local restaurant.\",\n      \"activities\": [\n        \"Hike the Quiraing\",\n        \"Visit Talisker Distillery\",\n        \"Seafood dinner\"\n      ],\n      \"estimatedCost\": {\n        \"accommodation\": 150,\n        \"food\": 80,\n        \"activities\": 40,\n        \"transport\": 30\n      }\n    },\n    {\n      \"day\": 7,\n      \"title\": \"Return to Inverness & Departure\",\n      \"description\": \"Drive back to Inverness, enjoying the scenic route.  Stop at viewpoints along the way. Return your rental car at Inverness Airport (INV) or train station and depart.\",\n      \"activities\": [\n        \"Drive from Isle of Skye to Inverness\",\n        \"Scenic stops along the way\",\n        \"Departure from Inverness\"\n      ],\n      \"estimatedCost\": {\n        \"accommodation\": 0,\n        \"food\": 40,\n        \"activities\": 0,\n        \"transport\": 40\n      }\n    }\n  ],\n  \"budgetTips\": [\n    \"Consider self-catering accommodation to save on food costs.\",\n    \"Pack your own snacks and drinks for hikes.\",\n    \"Take advantage of free activities like hiking and exploring natural attractions.\",\n    \"Look for deals on whisky distillery tours.\",\n    \"Travel during the shoulder season (May, June, September) for lower prices and fewer crowds.\",\n    \"Consider purchasing a Scotland Explorer Pass for discounted entry to attractions.\",\n    \"Book accommodations and rental cars in advance, especially during peak season.\",\n    \"Utilize public transportation where feasible, although a rental car is highly recommended for exploring the Highlands.\"\n  ],\n  \"notes\": \"This is a suggested itinerary and can be customized to your interests and preferences.  Prices are estimates and may vary depending on the time of year and availability.  Be sure to check opening hours and book tours in advance, especially during peak season.  Remember to pack for all types of weather, as conditions in the Highlands can change rapidly.\"\n}\n\n"},
      ],
    },
  ],
});

